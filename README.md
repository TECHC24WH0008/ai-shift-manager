# AI Shift Manager

## 概要

AI Shift Managerは、店舗やオフィス向けに「欠勤対応の代替候補提案」「AIによるシフト自動割当」「勤務実績の可視化」などをローカル環境で実現するPython製アプリです。  
クラウド連携不要、完全オフライン運用可能。個人情報が社外に漏れる心配がありません。

主な用途は、タイムカード（CSV/Excel）データを活用し、欠勤時に「誰が代わりに入れるか」を即座に提案することです。  
シフト管理・自動割当も同時に行うことで、現場の負担を軽減します。

---

## 主な機能

| 機能                                   | 役割・説明                                                         | 使用データ               |
|----------------------------------------|--------------------------------------------------------------------|-------------------------|
| 欠勤・急遽対応の代替候補提案           | 欠勤発生時、勤務履歴から代替できる人を抽出し優先順で提示             | 最新タイムカード、既存シフト表 |
| 勤務信頼スコア・慣れ度の算出           | 過去実績から候補者の部門慣れ度や頻度をスコア化し、安心感・公平性を担保 | 過去1ヶ月分の勤務実績         |
| シフト穴の簡易可視化                   | シフトの人員不足・過剰部分をカレンダーやリストで表示                 | シフト予定、勤務実績          |
| シフト自動割当（ルール＋軽量AI）        | 条件・実績スコア・公平性などを加味してシフトを自動生成               | タイムカード、希望シフト      |
| OCR（手書き→テキスト）※後回し推奨      | 手書きタイムカードをテキスト化（Tesseract OCR等）                   | 手書き画像                   |
| 自然言語による説明生成（将来対応）      | 代替提案理由の自動文章生成（OpenAI APIやローカルLLM）               | 勤務履歴                     |

---

## 差別化ポイント

- 完全ローカル動作、情報漏洩リスクゼロ
- CSV/Excelなど既存データに柔軟対応
- 欠勤時AI自動提案で即時対応
- 公平性・納得感のある配分ロジック
- 費用ゼロ（買切り/無償提供可）

---

## 使い方（UXイメージ）

1. タイムカード・シフト希望（CSV/Excel）をアップロード
2. 「自動シフト割当」ボタンで一括生成
3. 一覧画面でシフトを確認・手動調整
4. 欠勤登録 → 代替候補を自動提示 → 採用ボタンで確定
5. 「説明を見る」で提案理由を表示（将来的に自然言語対応）
6. CSV形式でエクスポート＆印刷・配布

---

## 画面イメージ（例）

- タイムカード取り込み画面
- シフト自動割当画面（カレンダー形式）
- 従業員一覧・勤務傾向表示
- 欠勤対応 → 自動代替候補リスト
- 出力（CSV）画面

---

## MVP／優先機能

| 優先度 | 機能／情報                      | 理由                                 |
|--------|-------------------------------|--------------------------------------|
| 高     | 欠勤代替候補の即時提案          | 困りごと直撃・使いやすさ             |
| 高     | 勤務信頼スコア・慣れ度の簡易表示 | 納得感・提案の説得力                 |
| 中     | シフト穴や過不足の視覚化        | 効率的な現状把握                     |
| 低     | 複雑な説明生成・多角分析        | 後回し、外部API対応で十分            |

---

## データフォーマット例

| データ種別   | 内容例                         | フォーマット      |
|--------------|-------------------------------|------------------|
| タイムカード | 出勤日・時間・部門・従業員ID   | CSV, Excel       |
| シフト予定   | 日付・部門・従業員ID割当       | CSV, Excel       |
| 欠勤情報     | 欠勤日・従業員ID               | CSV/手動入力     |

---

## 技術構成例

- Python（pandas, numpy, scikit-learn など）
- シンプルUI（tkinter, Flask + Bootstrap等）
- ローカル実行（Windows/Mac/Linux対応）

---

## インストール・実行方法

```bash
# Python 3.9以上が必要です
git clone https://github.com/TECHC24WH0008/ai-shift-manager.git
cd ai-shift-manager
pip install -r requirements.txt
python main.py
```

## ライセンス

MIT License / 無償利用可（詳細は LICENSE ファイル参照）

---

## 実装されている主な処理

### シフト自動割当
スタッフの希望勤務日、勤務可能時間、役職（責任者かどうか）、能力値、勤務日数上限などの条件をもとに、必要人数・責任者を含めてシフト枠へ自動割当します。  
「連続勤務ルール」も一部考慮可能です。

### 欠勤時の代替候補提案
シフト枠ごとに欠勤者を指定すると、残りのスタッフから「勤務可能日・時間」「能力」「役職」等を考慮して、代わりに入れる候補者を優先順で表示します。  
候補ごとに「推奨理由」も簡易表示されます。

### Excelデータの入出力
スタッフ情報やシフト割当結果をExcelファイル（.xlsx形式）で読み込み・保存できます。

### シンプルなGUI（Python tkinterベース）
- スタッフ情報の読込
- 自動割当の実行
- 欠勤者入力と代替候補表示
- 割当結果のリスト表示
- Excel保存ボタン

---

## 作者
小峰
下垣内


---

## 追記・カスタマイズ例

- OCRや自然言語説明生成は後回し可。まずは欠勤対応とシフト割当から導入推奨。
- データは最新・シンプルでOK。複雑なルールは順次追加可能。

---

ご希望に応じてさらに調整できます。  
ご不明点や追加したい内容があればご遠慮なくお知らせください！
